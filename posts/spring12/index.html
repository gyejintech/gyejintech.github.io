<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="ko" data-mode="light">
  <!-- The Head -->

<head>
  <link rel="alternate" type="application/rss+xml" href="http://0.0.0.0:4000/feed.xml">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover">

  

  

  
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="(코딩 자율학습 스프링 부트3) 12장" />
<meta property="og:locale" content="ko" />
<meta name="description" content="서비스와 트랜잭션의 개념 서비스란 컨트롤러와 리파지터리 사이에 위치하는 계층으로, 서버의 핵심 기능(비지니스 로직)을 처리하는 순서를 총괄한다 모두 성공해야 하는 일련의 과정을 트랜잭션이라고 하며 트랜잭션이 실패로 돌아갈 경우 진행 초기 단계로 돌리는 것을 롤백이라고 한다 서비스 계층 만들기 서비스 계층을 추가해서 컨트롤러, 서비스, 리파지터리의 역할을 분업해보도록 한다 [기존의 컨트롤러에서 서비스와 분업하게 변경됨 –11장 참고] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 // FirstApiController 파일 @GetMapping(&quot;/api/articles&quot;) public List&lt;Article&gt; index() { // return articleRepository.findAll(); return articleService.index(); } @GetMapping(&quot;/api/articles/{id}&quot;) public Article show(@PathVariable Long id) { // return articleRepository.findById(id).orElse(null); return articleService.show(id); } // POST @PostMapping(&quot;/api/articles&quot;) public ResponseEntity&lt;Article&gt; create(@RequestBody ArticleForm dto) { // public Article create(@RequestBody ArticleForm dto) { // Article article = dto.toEntity(); // return articleRepository.save(article); Article created = articleService.create(dto); return (created != null) ? // 생성하면 정상, 실패하면 오류 응답 ResponseEntity.status(HttpStatus.OK).body(created) : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } // PATCH @PatchMapping(&quot;/api/articles/{id}&quot;) public ResponseEntity&lt;Article&gt; update(@PathVariable Long id, @RequestBody ArticleForm dto) { Article updated = articleService.update(id, dto); return (updated != null) ? ResponseEntity.status(HttpStatus.OK).body(updated) : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } // //DELETE @DeleteMapping(&quot;/api/articles/{id}&quot;) public ResponseEntity&lt;Article&gt; delete(@PathVariable Long id) { Article deleted = articleService.delete(id); return (deleted != null) ? ResponseEntity.status(HttpStatus.NO_CONTENT).build() : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } [서비스를 생성하여 기존의 컨트롤러에서 처리한 부분을 서비스가 처리] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // ArticleService 파일 @Autowired private ArticleRepository articleRepository; // 게시글 리파지터리 객체 주입 public List&lt;Article&gt; index() { return articleRepository.findAll(); } public Article show(Long id) { return articleRepository.findById(id).orElse(null); } public Article create(ArticleForm dto) { Article article = dto.toEntity(); // dto를 엔티티로 변환한후 article에 저장 if(article.getId()!=null){ return null; } return articleRepository.save(article); // article을 db에 저장 } public Article update(Long id, ArticleForm dto) { // 1. DTO -&gt; 엔티티 변환하기 Article article = dto.toEntity(); log.info(&quot;id: {}, article: {}&quot;, id, article.toString()); // 2. 타깃 조회하기 Article target = articleRepository.findById(id).orElse(null); // 3. 잘못된 요청 처리하기 if (target == null || id != article.getId()){ //400. 잘못된 요청 응답! log.info(&quot;잘못된 요청! id:{}, article:{}&quot;,id,article.toString()); return null; } // 4. 업데이트 및 정상 응답(200)하기 // 기존 데이터에 새 데이터 붙이기 target.patch(article); Article updated = articleRepository.save(article); return updated; } public Article delete(Long id) { // 1. 대상 찾기 Article target = articleRepository.findById(id).orElse(null); // 2. 잘못된 요청 처리하기 if(target == null){ return null; } // 3. 대상 삭제하기 articleRepository.delete(target); return target; } ResponseEntity란 Spring Framework에서 제공하는 클래스 중 HttpEntity라는 클래스가 존재한다. 이것은 HTTP 요청(Request) 또는 응답(Response)에 해당하는 HttpHeader와 HttpBody를 포함하는 클래스이다 [HttpEntity 클래스] 1 2 3 4 5 6 7 8 9 public class HttpEntity&lt;T&gt; { private final HttpHeaders headers; @Nullable private final T body; } [HttpEntity 클래스를 상속받은 클래스들] HttpEntity 클래스를 상속받아 구현한 클래스가 RequestEntity, ResponseEntity 클래스이다. ResponseEntity는 사용자의 HttpRequest에 대한 응답 데이터를 포함하는 클래스이다. 따라서 HttpStatus, HttpHeaders, HttpBody를 포함한다 1 2 3 4 public class RequestEntity&lt;T&gt; extends HttpEntity&lt;T&gt; public class ResponseEntity&lt;T&gt; extends HttpEntity&lt;T&gt;" />
<meta property="og:description" content="서비스와 트랜잭션의 개념 서비스란 컨트롤러와 리파지터리 사이에 위치하는 계층으로, 서버의 핵심 기능(비지니스 로직)을 처리하는 순서를 총괄한다 모두 성공해야 하는 일련의 과정을 트랜잭션이라고 하며 트랜잭션이 실패로 돌아갈 경우 진행 초기 단계로 돌리는 것을 롤백이라고 한다 서비스 계층 만들기 서비스 계층을 추가해서 컨트롤러, 서비스, 리파지터리의 역할을 분업해보도록 한다 [기존의 컨트롤러에서 서비스와 분업하게 변경됨 –11장 참고] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 // FirstApiController 파일 @GetMapping(&quot;/api/articles&quot;) public List&lt;Article&gt; index() { // return articleRepository.findAll(); return articleService.index(); } @GetMapping(&quot;/api/articles/{id}&quot;) public Article show(@PathVariable Long id) { // return articleRepository.findById(id).orElse(null); return articleService.show(id); } // POST @PostMapping(&quot;/api/articles&quot;) public ResponseEntity&lt;Article&gt; create(@RequestBody ArticleForm dto) { // public Article create(@RequestBody ArticleForm dto) { // Article article = dto.toEntity(); // return articleRepository.save(article); Article created = articleService.create(dto); return (created != null) ? // 생성하면 정상, 실패하면 오류 응답 ResponseEntity.status(HttpStatus.OK).body(created) : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } // PATCH @PatchMapping(&quot;/api/articles/{id}&quot;) public ResponseEntity&lt;Article&gt; update(@PathVariable Long id, @RequestBody ArticleForm dto) { Article updated = articleService.update(id, dto); return (updated != null) ? ResponseEntity.status(HttpStatus.OK).body(updated) : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } // //DELETE @DeleteMapping(&quot;/api/articles/{id}&quot;) public ResponseEntity&lt;Article&gt; delete(@PathVariable Long id) { Article deleted = articleService.delete(id); return (deleted != null) ? ResponseEntity.status(HttpStatus.NO_CONTENT).build() : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } [서비스를 생성하여 기존의 컨트롤러에서 처리한 부분을 서비스가 처리] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // ArticleService 파일 @Autowired private ArticleRepository articleRepository; // 게시글 리파지터리 객체 주입 public List&lt;Article&gt; index() { return articleRepository.findAll(); } public Article show(Long id) { return articleRepository.findById(id).orElse(null); } public Article create(ArticleForm dto) { Article article = dto.toEntity(); // dto를 엔티티로 변환한후 article에 저장 if(article.getId()!=null){ return null; } return articleRepository.save(article); // article을 db에 저장 } public Article update(Long id, ArticleForm dto) { // 1. DTO -&gt; 엔티티 변환하기 Article article = dto.toEntity(); log.info(&quot;id: {}, article: {}&quot;, id, article.toString()); // 2. 타깃 조회하기 Article target = articleRepository.findById(id).orElse(null); // 3. 잘못된 요청 처리하기 if (target == null || id != article.getId()){ //400. 잘못된 요청 응답! log.info(&quot;잘못된 요청! id:{}, article:{}&quot;,id,article.toString()); return null; } // 4. 업데이트 및 정상 응답(200)하기 // 기존 데이터에 새 데이터 붙이기 target.patch(article); Article updated = articleRepository.save(article); return updated; } public Article delete(Long id) { // 1. 대상 찾기 Article target = articleRepository.findById(id).orElse(null); // 2. 잘못된 요청 처리하기 if(target == null){ return null; } // 3. 대상 삭제하기 articleRepository.delete(target); return target; } ResponseEntity란 Spring Framework에서 제공하는 클래스 중 HttpEntity라는 클래스가 존재한다. 이것은 HTTP 요청(Request) 또는 응답(Response)에 해당하는 HttpHeader와 HttpBody를 포함하는 클래스이다 [HttpEntity 클래스] 1 2 3 4 5 6 7 8 9 public class HttpEntity&lt;T&gt; { private final HttpHeaders headers; @Nullable private final T body; } [HttpEntity 클래스를 상속받은 클래스들] HttpEntity 클래스를 상속받아 구현한 클래스가 RequestEntity, ResponseEntity 클래스이다. ResponseEntity는 사용자의 HttpRequest에 대한 응답 데이터를 포함하는 클래스이다. 따라서 HttpStatus, HttpHeaders, HttpBody를 포함한다 1 2 3 4 public class RequestEntity&lt;T&gt; extends HttpEntity&lt;T&gt; public class ResponseEntity&lt;T&gt; extends HttpEntity&lt;T&gt;" />
<link rel="canonical" href="http://0.0.0.0:4000/posts/spring12/" />
<meta property="og:url" content="http://0.0.0.0:4000/posts/spring12/" />
<meta property="og:site_name" content="Jogyejin" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-12-12T12:33:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="(코딩 자율학습 스프링 부트3) 12장" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-12-12T12:33:00+09:00","datePublished":"2023-12-12T12:33:00+09:00","description":"서비스와 트랜잭션의 개념 서비스란 컨트롤러와 리파지터리 사이에 위치하는 계층으로, 서버의 핵심 기능(비지니스 로직)을 처리하는 순서를 총괄한다 모두 성공해야 하는 일련의 과정을 트랜잭션이라고 하며 트랜잭션이 실패로 돌아갈 경우 진행 초기 단계로 돌리는 것을 롤백이라고 한다 서비스 계층 만들기 서비스 계층을 추가해서 컨트롤러, 서비스, 리파지터리의 역할을 분업해보도록 한다 [기존의 컨트롤러에서 서비스와 분업하게 변경됨 –11장 참고] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 // FirstApiController 파일 @GetMapping(&quot;/api/articles&quot;) public List&lt;Article&gt; index() { // return articleRepository.findAll(); return articleService.index(); } @GetMapping(&quot;/api/articles/{id}&quot;) public Article show(@PathVariable Long id) { // return articleRepository.findById(id).orElse(null); return articleService.show(id); } // POST @PostMapping(&quot;/api/articles&quot;) public ResponseEntity&lt;Article&gt; create(@RequestBody ArticleForm dto) { // public Article create(@RequestBody ArticleForm dto) { // Article article = dto.toEntity(); // return articleRepository.save(article); Article created = articleService.create(dto); return (created != null) ? // 생성하면 정상, 실패하면 오류 응답 ResponseEntity.status(HttpStatus.OK).body(created) : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } // PATCH @PatchMapping(&quot;/api/articles/{id}&quot;) public ResponseEntity&lt;Article&gt; update(@PathVariable Long id, @RequestBody ArticleForm dto) { Article updated = articleService.update(id, dto); return (updated != null) ? ResponseEntity.status(HttpStatus.OK).body(updated) : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } // //DELETE @DeleteMapping(&quot;/api/articles/{id}&quot;) public ResponseEntity&lt;Article&gt; delete(@PathVariable Long id) { Article deleted = articleService.delete(id); return (deleted != null) ? ResponseEntity.status(HttpStatus.NO_CONTENT).build() : ResponseEntity.status(HttpStatus.BAD_REQUEST).build(); } [서비스를 생성하여 기존의 컨트롤러에서 처리한 부분을 서비스가 처리] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 // ArticleService 파일 @Autowired private ArticleRepository articleRepository; // 게시글 리파지터리 객체 주입 public List&lt;Article&gt; index() { return articleRepository.findAll(); } public Article show(Long id) { return articleRepository.findById(id).orElse(null); } public Article create(ArticleForm dto) { Article article = dto.toEntity(); // dto를 엔티티로 변환한후 article에 저장 if(article.getId()!=null){ return null; } return articleRepository.save(article); // article을 db에 저장 } public Article update(Long id, ArticleForm dto) { // 1. DTO -&gt; 엔티티 변환하기 Article article = dto.toEntity(); log.info(&quot;id: {}, article: {}&quot;, id, article.toString()); // 2. 타깃 조회하기 Article target = articleRepository.findById(id).orElse(null); // 3. 잘못된 요청 처리하기 if (target == null || id != article.getId()){ //400. 잘못된 요청 응답! log.info(&quot;잘못된 요청! id:{}, article:{}&quot;,id,article.toString()); return null; } // 4. 업데이트 및 정상 응답(200)하기 // 기존 데이터에 새 데이터 붙이기 target.patch(article); Article updated = articleRepository.save(article); return updated; } public Article delete(Long id) { // 1. 대상 찾기 Article target = articleRepository.findById(id).orElse(null); // 2. 잘못된 요청 처리하기 if(target == null){ return null; } // 3. 대상 삭제하기 articleRepository.delete(target); return target; } ResponseEntity란 Spring Framework에서 제공하는 클래스 중 HttpEntity라는 클래스가 존재한다. 이것은 HTTP 요청(Request) 또는 응답(Response)에 해당하는 HttpHeader와 HttpBody를 포함하는 클래스이다 [HttpEntity 클래스] 1 2 3 4 5 6 7 8 9 public class HttpEntity&lt;T&gt; { private final HttpHeaders headers; @Nullable private final T body; } [HttpEntity 클래스를 상속받은 클래스들] HttpEntity 클래스를 상속받아 구현한 클래스가 RequestEntity, ResponseEntity 클래스이다. ResponseEntity는 사용자의 HttpRequest에 대한 응답 데이터를 포함하는 클래스이다. 따라서 HttpStatus, HttpHeaders, HttpBody를 포함한다 1 2 3 4 public class RequestEntity&lt;T&gt; extends HttpEntity&lt;T&gt; public class ResponseEntity&lt;T&gt; extends HttpEntity&lt;T&gt;","headline":"(코딩 자율학습 스프링 부트3) 12장","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/posts/spring12/"},"url":"http://0.0.0.0:4000/posts/spring12/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>(코딩 자율학습 스프링 부트3) 12장 | Jogyejin
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Jogyejin">
<meta name="application-name" content="Jogyejin">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
  
  <link rel="preconnect" href="https://fonts.googleapis.com" >
  <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
  
  <link rel="preconnect" href="https://fonts.googleapis.com" >
  <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
  
  <link rel="preconnect" href="https://cdn.jsdelivr.net" >
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
  
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" >
  <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" >
  

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.25.0/dist/tocbot.min.css">
  

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
  <!-- Manific Popup -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  

  <!-- A placeholder to allow defining custom metadata -->

</head>

  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">

    <a href="/" id="avatar" class="rounded-circle">
      
      
      <img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <h1 class="site-title">
      <a href="/">Jogyejin</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">기술블로그 && 프로젝트공유</p>

  </header>
  <!-- .profile-wrapper -->
  </div>
  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
      <li class="nav-item">
        <a href="/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          
          
          <span>CATEGORIES</span>
        </a>
      </li>
      <!-- .nav-item -->
      
      <li class="nav-item">
        <a href="/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          
          
          <span>TAGS</span>
        </a>
      </li>
      <!-- .nav-item -->
      
      <li class="nav-item">
        <a href="/activity/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          
          
          <span>ACTIVITY</span>
        </a>
      </li>
      <!-- .nav-item -->
      
      <li class="nav-item">
        <a href="/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          
          
          <span>ABOUT</span>
        </a>
      </li>
      <!-- .nav-item -->
      
    </ul>
  </nav>
  <!-- Counter Badge -->
  <div class="counter-badge">
    <a href="https://hits.seeyoufarm.com">
      <img
        
        src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgyejindev.github.io&count_bg=%23A48A65&title_bg=%23A48A65&icon=protocols-dot-io.svg&icon_color=%23E7E7E7&title=%EB%B0%A9%EB%AC%B8%EC%9E%90&edge_flat=false"
        alt="Visitors" />
    </a>
  </div>
  <!-- .sidebar-badge -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
  </div>
  <!-- .sidebar-bottom -->
</aside>

<!-- #sidebar -->

    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>(코딩 자율학습 스프링 부트3) 12장</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip>(코딩 자율학습 스프링 부트3) 12장</h1>

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1702351980"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Dec 12, 2023
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/gyejindev">Jogyejin</a>
            
          </em>
        </span>

        <!-- read time -->
        <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="853 words"
>
  <em>4 min</em> read</span>

      </div>
      <!-- .d-flex -->
    </div>
    <!-- .post-meta -->
  </header>

  <div class="content">
    <script type="text/javascript" src="http://0.0.0.0:4000/assets/js/mermaid/mermaid.js"></script>

<hr />

<h2 id="서비스와-트랜잭션의-개념"><span class="me-2">서비스와 트랜잭션의 개념</span><a href="#서비스와-트랜잭션의-개념" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p><code class="language-plaintext highlighter-rouge">서비스란 컨트롤러와 리파지터리 사이에 위치하는 계층</code>으로, <code class="language-plaintext highlighter-rouge">서버의 핵심 기능(비지니스 로직)을 처리하는 순서를 총괄한다</code> 모두 성공해야 하는 일련의 과정을 <code class="language-plaintext highlighter-rouge">트랜잭션</code>이라고 하며 트랜잭션이 실패로 돌아갈 경우 진행 초기 단계로 돌리는 것을 <code class="language-plaintext highlighter-rouge">롤백</code>이라고 한다</p>

<h2 id="서비스-계층-만들기"><span class="me-2">서비스 계층 만들기</span><a href="#서비스-계층-만들기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p><strong>서비스 계층을 추가해서 컨트롤러, 서비스, 리파지터리의 역할을 분업해보도록 한다</strong></p>

<p>[기존의 컨트롤러에서 서비스와 분업하게 변경됨 –11장 참고]</p>
<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre>
<span class="c1">// FirstApiController 파일</span>

<span class="p">@</span><span class="nd">GetMapping</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/articles</span><span class="dl">"</span><span class="p">)</span>
<span class="kr">public</span> <span class="nx">List</span><span class="o">&lt;</span><span class="nx">Article</span><span class="o">&gt;</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
<span class="c1">//        return articleRepository.findAll();</span>
<span class="k">return</span> <span class="nx">articleService</span><span class="p">.</span><span class="nf">index</span><span class="p">();</span>
<span class="p">}</span>

<span class="p">@</span><span class="nd">GetMapping</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/articles/{id}</span><span class="dl">"</span><span class="p">)</span>
<span class="kr">public</span> <span class="nx">Article</span> <span class="nf">show</span><span class="p">(@</span><span class="nd">PathVariable</span> <span class="nx">Long</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">//        return articleRepository.findById(id).orElse(null);</span>
<span class="k">return</span> <span class="nx">articleService</span><span class="p">.</span><span class="nf">show</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// POST</span>
<span class="p">@</span><span class="nd">PostMapping</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/articles</span><span class="dl">"</span><span class="p">)</span>
<span class="kr">public</span> <span class="nx">ResponseEntity</span><span class="o">&lt;</span><span class="nx">Article</span><span class="o">&gt;</span> <span class="nf">create</span><span class="p">(@</span><span class="nd">RequestBody</span> <span class="nx">ArticleForm</span> <span class="nx">dto</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">//    public Article create(@RequestBody ArticleForm dto) {</span>
<span class="c1">//        Article article = dto.toEntity();</span>
<span class="c1">//        return articleRepository.save(article);</span>
<span class="nx">Article</span> <span class="nx">created</span> <span class="o">=</span> <span class="nx">articleService</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="nx">dto</span><span class="p">);</span>
<span class="k">return </span><span class="p">(</span><span class="nx">created</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">?</span> <span class="c1">// 생성하면 정상, 실패하면 오류 응답</span>
<span class="nx">ResponseEntity</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="nx">HttpStatus</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nf">body</span><span class="p">(</span><span class="nx">created</span><span class="p">)</span> <span class="p">:</span>
<span class="nx">ResponseEntity</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="nx">HttpStatus</span><span class="p">.</span><span class="nx">BAD_REQUEST</span><span class="p">).</span><span class="nf">build</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// PATCH</span>
<span class="p">@</span><span class="nd">PatchMapping</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/articles/{id}</span><span class="dl">"</span><span class="p">)</span>
<span class="kr">public</span> <span class="nx">ResponseEntity</span><span class="o">&lt;</span><span class="nx">Article</span><span class="o">&gt;</span> <span class="nf">update</span><span class="p">(@</span><span class="nd">PathVariable</span> <span class="nx">Long</span> <span class="nx">id</span><span class="p">,</span> <span class="p">@</span><span class="nd">RequestBody</span> <span class="nx">ArticleForm</span> <span class="nx">dto</span><span class="p">)</span> <span class="p">{</span>
<span class="nx">Article</span> <span class="nx">updated</span> <span class="o">=</span> <span class="nx">articleService</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">dto</span><span class="p">);</span>
<span class="k">return </span><span class="p">(</span><span class="nx">updated</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">?</span>
<span class="nx">ResponseEntity</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="nx">HttpStatus</span><span class="p">.</span><span class="nx">OK</span><span class="p">).</span><span class="nf">body</span><span class="p">(</span><span class="nx">updated</span><span class="p">)</span> <span class="p">:</span>
<span class="nx">ResponseEntity</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="nx">HttpStatus</span><span class="p">.</span><span class="nx">BAD_REQUEST</span><span class="p">).</span><span class="nf">build</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">//    //DELETE</span>
<span class="p">@</span><span class="nd">DeleteMapping</span><span class="p">(</span><span class="dl">"</span><span class="s2">/api/articles/{id}</span><span class="dl">"</span><span class="p">)</span>
<span class="kr">public</span> <span class="nx">ResponseEntity</span><span class="o">&lt;</span><span class="nx">Article</span><span class="o">&gt;</span> <span class="k">delete</span><span class="p">(@</span><span class="nd">PathVariable</span> <span class="nx">Long</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
<span class="nx">Article</span> <span class="nx">deleted</span> <span class="o">=</span> <span class="nx">articleService</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
<span class="k">return </span><span class="p">(</span><span class="nx">deleted</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">?</span>
<span class="nx">ResponseEntity</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="nx">HttpStatus</span><span class="p">.</span><span class="nx">NO_CONTENT</span><span class="p">).</span><span class="nf">build</span><span class="p">()</span> <span class="p">:</span>
<span class="nx">ResponseEntity</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="nx">HttpStatus</span><span class="p">.</span><span class="nx">BAD_REQUEST</span><span class="p">).</span><span class="nf">build</span><span class="p">();</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>[서비스를 생성하여 기존의 컨트롤러에서 처리한 부분을 서비스가 처리]</p>
<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class="rouge-code"><pre>
<span class="c1">// ArticleService 파일</span>
<span class="p">@</span><span class="nd">Autowired</span>
<span class="kr">private</span> <span class="nx">ArticleRepository</span> <span class="nx">articleRepository</span><span class="p">;</span> <span class="c1">// 게시글 리파지터리 객체 주입</span>

<span class="kr">public</span> <span class="nx">List</span><span class="o">&lt;</span><span class="nx">Article</span><span class="o">&gt;</span> <span class="nf">index</span><span class="p">()</span> <span class="p">{</span>
<span class="k">return</span> <span class="nx">articleRepository</span><span class="p">.</span><span class="nf">findAll</span><span class="p">();</span>
<span class="p">}</span>

<span class="kr">public</span> <span class="nx">Article</span> <span class="nf">show</span><span class="p">(</span><span class="nx">Long</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
<span class="k">return</span> <span class="nx">articleRepository</span><span class="p">.</span><span class="nf">findById</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nf">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="p">}</span>

<span class="kr">public</span> <span class="nx">Article</span> <span class="nf">create</span><span class="p">(</span><span class="nx">ArticleForm</span> <span class="nx">dto</span><span class="p">)</span> <span class="p">{</span>
<span class="nx">Article</span> <span class="nx">article</span> <span class="o">=</span> <span class="nx">dto</span><span class="p">.</span><span class="nf">toEntity</span><span class="p">();</span> <span class="c1">// dto를 엔티티로 변환한후 article에 저장</span>
<span class="k">if</span><span class="p">(</span><span class="nx">article</span><span class="p">.</span><span class="nf">getId</span><span class="p">()</span><span class="o">!=</span><span class="kc">null</span><span class="p">){</span>
<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">return</span> <span class="nx">articleRepository</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span><span class="nx">article</span><span class="p">);</span> <span class="c1">// article을 db에 저장</span>
<span class="p">}</span>

<span class="kr">public</span> <span class="nx">Article</span> <span class="nf">update</span><span class="p">(</span><span class="nx">Long</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">ArticleForm</span> <span class="nx">dto</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// 1. DTO -&gt; 엔티티 변환하기</span>
<span class="nx">Article</span> <span class="nx">article</span> <span class="o">=</span> <span class="nx">dto</span><span class="p">.</span><span class="nf">toEntity</span><span class="p">();</span>
<span class="nx">log</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="dl">"</span><span class="s2">id: {}, article: {}</span><span class="dl">"</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">article</span><span class="p">.</span><span class="nf">toString</span><span class="p">());</span>
<span class="c1">// 2. 타깃 조회하기</span>
<span class="nx">Article</span> <span class="nx">target</span> <span class="o">=</span> <span class="nx">articleRepository</span><span class="p">.</span><span class="nf">findById</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nf">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="c1">// 3. 잘못된 요청 처리하기</span>
<span class="k">if </span><span class="p">(</span><span class="nx">target</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">id</span> <span class="o">!=</span> <span class="nx">article</span><span class="p">.</span><span class="nf">getId</span><span class="p">()){</span>
<span class="c1">//400. 잘못된 요청 응답!</span>
<span class="nx">log</span><span class="p">.</span><span class="nf">info</span><span class="p">(</span><span class="dl">"</span><span class="s2">잘못된 요청! id:{}, article:{}</span><span class="dl">"</span><span class="p">,</span><span class="nx">id</span><span class="p">,</span><span class="nx">article</span><span class="p">.</span><span class="nf">toString</span><span class="p">());</span>
<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 4. 업데이트 및 정상 응답(200)하기</span>
<span class="c1">// 기존 데이터에 새 데이터 붙이기</span>
<span class="nx">target</span><span class="p">.</span><span class="nf">patch</span><span class="p">(</span><span class="nx">article</span><span class="p">);</span>
<span class="nx">Article</span> <span class="nx">updated</span> <span class="o">=</span> <span class="nx">articleRepository</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span><span class="nx">article</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">updated</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">public</span> <span class="nx">Article</span> <span class="k">delete</span><span class="p">(</span><span class="nx">Long</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
<span class="c1">// 1. 대상 찾기</span>
<span class="nx">Article</span> <span class="nx">target</span> <span class="o">=</span> <span class="nx">articleRepository</span><span class="p">.</span><span class="nf">findById</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nf">orElse</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
<span class="c1">// 2. 잘못된 요청 처리하기</span>
<span class="k">if</span><span class="p">(</span><span class="nx">target</span> <span class="o">==</span> <span class="kc">null</span><span class="p">){</span>
<span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// 3. 대상 삭제하기</span>
<span class="nx">articleRepository</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">target</span><span class="p">);</span>
<span class="k">return</span> <span class="nx">target</span><span class="p">;</span>
<span class="p">}</span>

</pre></td></tr></tbody></table></code></div></div>

<h2 id="responseentity란"><span class="me-2">ResponseEntity란</span><a href="#responseentity란" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p>Spring Framework에서 제공하는 클래스 중 <code class="language-plaintext highlighter-rouge">HttpEntity</code>라는 클래스가 존재한다. 이것은 <code class="language-plaintext highlighter-rouge">HTTP 요청(Request)</code> 또는 <code class="language-plaintext highlighter-rouge">응답(Response)</code>에 해당하는 HttpHeader와 HttpBody를 포함하는 클래스이다</p>

<p><strong>[HttpEntity 클래스]</strong></p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>
<span class="kr">public</span> <span class="kd">class</span> <span class="nc">HttpEntity</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>

<span class="kr">private</span> <span class="nx">final</span> <span class="nx">HttpHeaders</span> <span class="nx">headers</span><span class="p">;</span>

<span class="p">@</span><span class="nd">Nullable</span>
<span class="kr">private</span> <span class="nx">final</span> <span class="nx">T</span> <span class="nx">body</span><span class="p">;</span>

<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p><strong>[HttpEntity 클래스를 상속받은 클래스들]</strong></p>

<p><code class="language-plaintext highlighter-rouge">HttpEntity 클래스</code>를 상속받아 구현한 클래스가 <code class="language-plaintext highlighter-rouge">RequestEntity</code>, <code class="language-plaintext highlighter-rouge">ResponseEntity</code> 클래스이다. ResponseEntity는 사용자의 HttpRequest에 대한 응답 데이터를 포함하는 클래스이다. 따라서 HttpStatus, HttpHeaders, HttpBody를 포함한다</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>
<span class="kr">public</span> <span class="kd">class</span> <span class="nc">RequestEntity</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nx">HttpEntity</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span>
<span class="kr">public</span> <span class="kd">class</span> <span class="nc">ResponseEntity</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="nx">HttpEntity</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span>

</pre></td></tr></tbody></table></code></div></div>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/framework/">Framework</a>,
          <a href="/categories/springboot/">SpringBoot</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/springboot/"
            class="post-tag no-text-decoration"
          >SpringBoot</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted me-1">Share</span>
  <span class="share-icons">
    
    
    

    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get the last 5 posts from lastmod list. -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/usegit02/">Git(깃) 여러대 PC에서 동기화하는방법</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/reatnative/">ReatNative</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">Javascript</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/react/">React</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vue/">Vue</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/springboot/">SpringBoot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/access/">access</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/linux/">Linux</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/network/">Network</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/debian/">Debian</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/typescript/">Typescript</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="ps-0 pe-4">
    <h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->














  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/spring1/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1699673580"
  data-df="ll"
  
>
  Nov 11, 2023
</time>

              <h4 class="pt-0 my-2">(코딩 자율학습 스프링 부트3) 1,2장</h4>
              <div class="text-muted">
                <p>
                  





                  

Part1. 스프링 부트 시작

스프링 부트란?

  스프링 부트(Spring Boot)는 자바 웹 프로그램을 더욱 쉽고 빠르게 만들기 위한 도구이다
스프링 부트에는 자바 웹 프로그램을 만들기 위한 기능과 도구가 모여 있다


스프링 부트 개발 환경 설정하기
스프링 부트 개발 환경 설정에는 3단계로 이루어진다
1단계 : JDK설치하기2단계 : ID...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/spring2/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1700105580"
  data-df="ll"
  
>
  Nov 16, 2023
</time>

              <h4 class="pt-0 my-2">(코딩 자율학습 스프링 부트3) 3장</h4>
              <div class="text-muted">
                <p>
                  





                  

Part2. 스프링 부트 시작

게시판 만들고 새 글 작성하기: Create
폼 데이터

  폼 데이터는 HTML 요소인 &amp;lt;form&amp;gt; 태그에 실려 전송되는 데이터를 말하며 웹 브라우저에서 서버로 데이터를 전송할 때 사용한다, &amp;lt;form&amp;gt;태그에 실어 보낸 데이터는 서버의 컨트롤러가 객체에 담아 받는데 이 데이터를 DTO(Data...
                </p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/spring9/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1700969580"
  data-df="ll"
  
>
  Nov 26, 2023
</time>

              <h4 class="pt-0 my-2">(코딩 자율학습 스프링 부트3) 4장</h4>
              <div class="text-muted">
                <p>
                  





                  



게시글 Update
게시판에 작성한 글을 수정하기 위해서는 해당 글을 불러와 수정할 수 있는 입력 상태로 만들어야 한다 이후 내용을 입력하고 다시 전송하면 DB에 반영돼 최종적으로 수정된다

[수정 단계]

  &amp;lt;상세 페이지&amp;gt;에서 [Edit] 버튼을 클릭한다
  요청을 받은 컨트롤러는 해당 글의 id로 DB에서 데이터를 찾아 가져온다...
                </p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/spring11/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>(코딩 자율학습 스프링 부트3) 11장</p>
    </a>
  

  
    <a
      href="/posts/spring13/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>(코딩 자율학습 스프링 부트3) 13장</p>
    </a>
  
</nav>

            
              
              <!--  The comments switcher -->

  
  <!-- https://giscus.app/ -->
<script type="text/javascript">
  (function () {
    const origin = 'https://giscus.app';
    const iframe = 'iframe.giscus-frame';
    const lightTheme = 'light';
    const darkTheme = 'dark_dimmed';

    let initTheme = lightTheme;
    const html = document.documentElement;

    if (
      (html.hasAttribute('data-mode') &&
        html.getAttribute('data-mode') === 'dark') ||
      (!html.hasAttribute('data-mode') &&
        window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) {
      initTheme = darkTheme;
    }

    let giscusAttributes = {
      src: 'https://giscus.app/client.js',
      'data-repo': 'gyejindev/gyejindev.github.io',
      'data-repo-id': 'R_kgDOJ6T-3Q',
      'data-category': 'Q&A',
      'data-category-id': 'DIC_kwDOJ6T-3c4Cgk6I',
      'data-mapping': 'pathname',
      'data-reactions-enabled': '1',
      'data-emit-metadata': '0',
      'data-theme': initTheme,
      'data-input-position': 'bottom',
      'data-lang': 'ko',
      'data-loading': 'lazy',
      crossorigin: 'anonymous',
      async: ''
    };

    let giscusScript = document.createElement('script');
    Object.entries(giscusAttributes).forEach(([key, value]) =>
      giscusScript.setAttribute(key, value)
    );
    document.getElementById('tail-wrapper').appendChild(giscusScript);

    addEventListener('message', (event) => {
      if (
        event.source === window &&
        event.data &&
        event.data.direction === ModeToggle.ID
      ) {
        /* global theme mode changed */
        const mode = event.data.message;
        const theme = mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme;

        const message = {
          setConfig: {
            theme: theme
          }
        };

        const giscus = document.querySelector(iframe).contentWindow;
        giscus.postMessage({ giscus: message }, origin);
      }
    });
  })();
</script>



            

            <!-- The Footer -->

<footer aria-label="Site Info" class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  ">
  <!-- <p>
    ©
    <time>2024</time>
    <a href="https://github.com/gyejindev">Jogyejin</a>.
    
    <span data-bs-toggle="tooltip" data-bs-placement="top"
      title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
    
  </p> -->

  <!-- <p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.
  </p> -->
</footer>
          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/reatnative/">ReatNative</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/javascript/">Javascript</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/react/">React</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vue/">Vue</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/springboot/">SpringBoot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/access/">access</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/linux/">Linux</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/network/">Network</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/debian/">Debian</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/typescript/">Typescript</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/ko.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.25.0/dist/tocbot.min.js,npm/mermaid@10.8.0/dist/mermaid.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>


  <!-- MathJax -->
  <script>
    /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */
    MathJax = {
      tex: {
        /* start/end delimiter pairs for in-line math */
        inlineMath: [
          ['$', '$'],
          ['\\(', '\\)']
        ],
        /* start/end delimiter pairs for display math */
        displayMath: [
          ['$$', '$$'],
          ['\\[', '\\]']
        ]
      }
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js"></script>





    
      <!-- mermaid-js loader -->
<script type="text/javascript">
  (function () {
    function updateMermaid(event) {
      if (event.source === window && event.data && event.data.direction === ModeToggle.ID) {
        const mode = event.data.message;

        if (typeof mermaid === 'undefined') {
          return;
        }

        let expectedTheme = mode === ModeToggle.DARK_MODE ? 'dark' : 'default';
        let config = { theme: expectedTheme };

        /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */
        $('.mermaid').each(function () {
          let svgCode = $(this).prev().children().html();
          $(this).removeAttr('data-processed');
          $(this).html(svgCode);
        });

        mermaid.initialize(config);
        mermaid.init(undefined, '.mermaid');
      }
    }

    let initTheme = 'default';
    const html = document.documentElement;

    if (
      (html.hasAttribute('data-mode') && html.getAttribute('data-mode') === 'dark') ||
      (!html.hasAttribute('data-mode') && window.matchMedia('(prefers-color-scheme: dark)').matches)
    ) {
      initTheme = 'dark';
    }

    let mermaidConf = {
      theme: initTheme /* <default|dark|forest|neutral> */
    };

    /* Create mermaid tag */
    document.querySelectorAll('pre>code.language-mermaid').forEach((elem) => {
      const svgCode = elem.textContent;
      const backup = elem.parentElement;
      backup.classList.add('unloaded');
      /* create mermaid node */
      let mermaid = document.createElement('pre');
      mermaid.classList.add('mermaid');
      const text = document.createTextNode(svgCode);
      mermaid.appendChild(text);
      backup.after(mermaid);
    });

    mermaid.initialize(mermaidConf);

    window.addEventListener('message', updateMermaid);
  })();
</script>

    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

